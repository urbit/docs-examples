{"ast":null,"code":"var MILI = 'milliseconds',\n    SECONDS = 'seconds',\n    MINUTES = 'minutes',\n    HOURS = 'hours',\n    DAY = 'day',\n    WEEK = 'week',\n    MONTH = 'month',\n    YEAR = 'year',\n    DECADE = 'decade',\n    CENTURY = 'century';\nvar multiplierMilli = {\n  'milliseconds': 1,\n  'seconds': 1000,\n  'minutes': 60 * 1000,\n  'hours': 60 * 60 * 1000,\n  'day': 24 * 60 * 60 * 1000,\n  'week': 7 * 24 * 60 * 60 * 1000\n};\nvar multiplierMonth = {\n  'month': 1,\n  'year': 12,\n  'decade': 10 * 12,\n  'century': 100 * 12\n};\n\nfunction daysOf(year) {\n  return [31, daysInFeb(year), 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\n}\n\nfunction daysInFeb(year) {\n  return year % 4 === 0 && year % 100 !== 0 || year % 400 === 0 ? 29 : 28;\n}\n\nexport function add(d, num, unit) {\n  d = new Date(d);\n\n  switch (unit) {\n    case MILI:\n    case SECONDS:\n    case MINUTES:\n    case HOURS:\n    case DAY:\n    case WEEK:\n      return addMillis(d, num * multiplierMilli[unit]);\n\n    case MONTH:\n    case YEAR:\n    case DECADE:\n    case CENTURY:\n      return addMonths(d, num * multiplierMonth[unit]);\n  }\n\n  throw new TypeError('Invalid units: \"' + unit + '\"');\n}\n\nfunction addMillis(d, num) {\n  var nextDate = new Date(+d + num);\n  return solveDST(d, nextDate);\n}\n\nfunction addMonths(d, num) {\n  var year = d.getFullYear(),\n      month = d.getMonth(),\n      day = d.getDate(),\n      totalMonths = year * 12 + month + num,\n      nextYear = Math.trunc(totalMonths / 12),\n      nextMonth = totalMonths % 12,\n      nextDay = Math.min(day, daysOf(nextYear)[nextMonth]);\n  var nextDate = new Date(d);\n  nextDate.setFullYear(nextYear); // To avoid a bug when sets the Feb month\n  // with a date > 28 or date > 29 (leap year)\n\n  nextDate.setDate(1);\n  nextDate.setMonth(nextMonth);\n  nextDate.setDate(nextDay);\n  return nextDate;\n}\n\nfunction solveDST(currentDate, nextDate) {\n  var currentOffset = currentDate.getTimezoneOffset(),\n      nextOffset = nextDate.getTimezoneOffset(); // if is DST, add the difference in minutes\n  // else the difference is zero\n\n  var diffMinutes = nextOffset - currentOffset;\n  return new Date(+nextDate + diffMinutes * multiplierMilli['minutes']);\n}\n\nexport function subtract(d, num, unit) {\n  return add(d, -num, unit);\n}\nexport function startOf(d, unit, firstOfWeek) {\n  d = new Date(d);\n\n  switch (unit) {\n    case CENTURY:\n    case DECADE:\n    case YEAR:\n      d = month(d, 0);\n\n    case MONTH:\n      d = date(d, 1);\n\n    case WEEK:\n    case DAY:\n      d = hours(d, 0);\n\n    case HOURS:\n      d = minutes(d, 0);\n\n    case MINUTES:\n      d = seconds(d, 0);\n\n    case SECONDS:\n      d = milliseconds(d, 0);\n  }\n\n  if (unit === DECADE) d = subtract(d, year(d) % 10, 'year');\n  if (unit === CENTURY) d = subtract(d, year(d) % 100, 'year');\n  if (unit === WEEK) d = weekday(d, 0, firstOfWeek);\n  return d;\n}\nexport function endOf(d, unit, firstOfWeek) {\n  d = new Date(d);\n  d = startOf(d, unit, firstOfWeek);\n\n  switch (unit) {\n    case CENTURY:\n    case DECADE:\n    case YEAR:\n    case MONTH:\n    case WEEK:\n      d = add(d, 1, unit);\n      d = subtract(d, 1, DAY);\n      d.setHours(23, 59, 59, 999);\n      break;\n\n    case DAY:\n      d.setHours(23, 59, 59, 999);\n      break;\n\n    case HOURS:\n    case MINUTES:\n    case SECONDS:\n      d = add(d, 1, unit);\n      d = subtract(d, 1, MILI);\n  }\n\n  return d;\n}\nexport var eq = createComparer(function (a, b) {\n  return a === b;\n});\nexport var neq = createComparer(function (a, b) {\n  return a !== b;\n});\nexport var gt = createComparer(function (a, b) {\n  return a > b;\n});\nexport var gte = createComparer(function (a, b) {\n  return a >= b;\n});\nexport var lt = createComparer(function (a, b) {\n  return a < b;\n});\nexport var lte = createComparer(function (a, b) {\n  return a <= b;\n});\nexport function min() {\n  return new Date(Math.min.apply(Math, arguments));\n}\nexport function max() {\n  return new Date(Math.max.apply(Math, arguments));\n}\nexport function inRange(day, min, max, unit) {\n  unit = unit || 'day';\n  return (!min || gte(day, min, unit)) && (!max || lte(day, max, unit));\n}\nexport var milliseconds = createAccessor('Milliseconds');\nexport var seconds = createAccessor('Seconds');\nexport var minutes = createAccessor('Minutes');\nexport var hours = createAccessor('Hours');\nexport var day = createAccessor('Day');\nexport var date = createAccessor('Date');\nexport var month = createAccessor('Month');\nexport var year = createAccessor('FullYear');\nexport function decade(d, val) {\n  return val === undefined ? year(startOf(d, DECADE)) : add(d, val + 10, YEAR);\n}\nexport function century(d, val) {\n  return val === undefined ? year(startOf(d, CENTURY)) : add(d, val + 100, YEAR);\n}\nexport function weekday(d, val, firstDay) {\n  var w = (day(d) + 7 - (firstDay || 0)) % 7;\n  return val === undefined ? w : add(d, val - w, DAY);\n}\nexport function diff(date1, date2, unit, asFloat) {\n  var dividend, divisor, result;\n\n  switch (unit) {\n    case MILI:\n    case SECONDS:\n    case MINUTES:\n    case HOURS:\n    case DAY:\n    case WEEK:\n      dividend = date2.getTime() - date1.getTime();\n      break;\n\n    case MONTH:\n    case YEAR:\n    case DECADE:\n    case CENTURY:\n      dividend = (year(date2) - year(date1)) * 12 + month(date2) - month(date1);\n      break;\n\n    default:\n      throw new TypeError('Invalid units: \"' + unit + '\"');\n  }\n\n  switch (unit) {\n    case MILI:\n      divisor = 1;\n      break;\n\n    case SECONDS:\n      divisor = 1000;\n      break;\n\n    case MINUTES:\n      divisor = 1000 * 60;\n      break;\n\n    case HOURS:\n      divisor = 1000 * 60 * 60;\n      break;\n\n    case DAY:\n      divisor = 1000 * 60 * 60 * 24;\n      break;\n\n    case WEEK:\n      divisor = 1000 * 60 * 60 * 24 * 7;\n      break;\n\n    case MONTH:\n      divisor = 1;\n      break;\n\n    case YEAR:\n      divisor = 12;\n      break;\n\n    case DECADE:\n      divisor = 120;\n      break;\n\n    case CENTURY:\n      divisor = 1200;\n      break;\n\n    default:\n      throw new TypeError('Invalid units: \"' + unit + '\"');\n  }\n\n  result = dividend / divisor;\n  return asFloat ? result : Math.round(result);\n}\n\nfunction createAccessor(method) {\n  var hourLength = function (method) {\n    switch (method) {\n      case 'Milliseconds':\n        return 3600000;\n\n      case 'Seconds':\n        return 3600;\n\n      case 'Minutes':\n        return 60;\n\n      case 'Hours':\n        return 1;\n\n      default:\n        return null;\n    }\n  }(method);\n\n  return function (d, val) {\n    if (val === undefined) return d['get' + method]();\n    var dateOut = new Date(d);\n    dateOut['set' + method](val);\n\n    if (hourLength && dateOut['get' + method]() != val && (method === 'Hours' || val >= hourLength && dateOut.getHours() - d.getHours() < Math.floor(val / hourLength))) {\n      //Skip DST hour, if it occurs\n      dateOut['set' + method](val + hourLength);\n    }\n\n    return dateOut;\n  };\n}\n\nfunction createComparer(operator) {\n  return function (a, b, unit) {\n    return operator(+startOf(a, unit), +startOf(b, unit));\n  };\n}","map":{"version":3,"sources":["/home/mike/proj/frontend/ui/node_modules/date-arithmetic/index.js"],"names":["MILI","SECONDS","MINUTES","HOURS","DAY","WEEK","MONTH","YEAR","DECADE","CENTURY","multiplierMilli","multiplierMonth","daysOf","year","daysInFeb","add","d","num","unit","Date","addMillis","addMonths","TypeError","nextDate","solveDST","getFullYear","month","getMonth","day","getDate","totalMonths","nextYear","Math","trunc","nextMonth","nextDay","min","setFullYear","setDate","setMonth","currentDate","currentOffset","getTimezoneOffset","nextOffset","diffMinutes","subtract","startOf","firstOfWeek","date","hours","minutes","seconds","milliseconds","weekday","endOf","setHours","eq","createComparer","a","b","neq","gt","gte","lt","lte","apply","arguments","max","inRange","createAccessor","decade","val","undefined","century","firstDay","w","diff","date1","date2","asFloat","dividend","divisor","result","getTime","round","method","hourLength","dateOut","getHours","floor","operator"],"mappings":"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","sourcesContent":["var MILI    = 'milliseconds'\n  , SECONDS = 'seconds'\n  , MINUTES = 'minutes'\n  , HOURS   = 'hours'\n  , DAY     = 'day'\n  , WEEK    = 'week'\n  , MONTH   = 'month'\n  , YEAR    = 'year'\n  , DECADE  = 'decade'\n  , CENTURY = 'century';\n\nvar multiplierMilli = {\n  'milliseconds': 1,\n  'seconds': 1000,\n  'minutes': 60 * 1000,\n  'hours': 60 * 60 * 1000,\n  'day': 24 * 60 * 60 * 1000,\n  'week': 7 * 24 * 60 * 60 * 1000 \n}\n\nvar multiplierMonth = {\n  'month': 1,\n  'year': 12,\n  'decade': 10 * 12,\n  'century': 100 * 12\n}\n\nfunction daysOf(year) {\n  return [31, daysInFeb(year), 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]\n}\n\nfunction daysInFeb(year) {\n  return (\n      year % 4 === 0 \n      && year % 100 !== 0\n    ) || year % 400 === 0\n      ? 29\n      : 28\n}\n\nexport function add(d, num, unit) {\n  d = new Date(d)\n\n  switch (unit){\n    case MILI:\n    case SECONDS:\n    case MINUTES:\n    case HOURS:\n    case DAY:\n    case WEEK:\n      return addMillis(d, num * multiplierMilli[unit])\n    case MONTH:\n    case YEAR:\n    case DECADE:\n    case CENTURY:\n      return addMonths(d, num * multiplierMonth[unit])\n  }\n\n  throw new TypeError('Invalid units: \"' + unit + '\"')\n}\n\nfunction addMillis(d, num) {\n  var nextDate = new Date(+(d) + num)\n\n  return solveDST(d, nextDate)\n}\n\nfunction addMonths(d, num) {\n  var year = d.getFullYear()\n    , month = d.getMonth()\n    , day = d.getDate()\n    , totalMonths = year * 12 + month + num\n    , nextYear = Math.trunc(totalMonths / 12)\n    , nextMonth = totalMonths % 12\n    , nextDay = Math.min(day, daysOf(nextYear)[nextMonth])\n\n  var nextDate = new Date(d)\n  nextDate.setFullYear(nextYear)\n\n  // To avoid a bug when sets the Feb month\n  // with a date > 28 or date > 29 (leap year)\n  nextDate.setDate(1)\n\n  nextDate.setMonth(nextMonth)\n  nextDate.setDate(nextDay)\n\n  return nextDate\n}\n\nfunction solveDST(currentDate, nextDate) {\n  var currentOffset = currentDate.getTimezoneOffset()\n    , nextOffset = nextDate.getTimezoneOffset()\n\n  // if is DST, add the difference in minutes\n  // else the difference is zero\n  var diffMinutes = (nextOffset - currentOffset)\n\n  return new Date(+(nextDate) + diffMinutes * multiplierMilli['minutes'])\n}\n\nexport function subtract(d, num, unit) {\n  return add(d, -num, unit)\n}\n\nexport function startOf(d, unit, firstOfWeek) {\n  d = new Date(d)\n\n  switch (unit) {\n    case CENTURY:\n    case DECADE:\n    case YEAR:\n        d = month(d, 0);\n    case MONTH:\n        d = date(d, 1);\n    case WEEK:\n    case DAY:\n        d = hours(d, 0);\n    case HOURS:\n        d = minutes(d, 0);\n    case MINUTES:\n        d = seconds(d, 0);\n    case SECONDS:\n        d = milliseconds(d, 0);\n  }\n\n  if (unit === DECADE)\n    d = subtract(d, year(d) % 10, 'year')\n\n  if (unit === CENTURY)\n    d = subtract(d, year(d) % 100, 'year')\n\n  if (unit === WEEK)\n    d = weekday(d, 0, firstOfWeek);\n\n  return d\n}\n\nexport function endOf(d, unit, firstOfWeek){\n  d = new Date(d)\n  d = startOf(d, unit, firstOfWeek)\n  switch (unit) {\n    case CENTURY:\n    case DECADE:\n    case YEAR:\n    case MONTH:\n    case WEEK:\n      d = add(d, 1, unit)\n      d = subtract(d, 1, DAY)\n      d.setHours(23, 59, 59, 999)\n      break;\n    case DAY:\n      d.setHours(23, 59, 59, 999)\n      break;\n    case HOURS:\n    case MINUTES:\n    case SECONDS:\n      d = add(d, 1, unit)\n      d = subtract(d, 1, MILI)\n  }\n  return d\n}\n\nexport var eq =  createComparer(function(a, b){ return a === b })\nexport var neq = createComparer(function(a, b){ return a !== b })\nexport var gt =  createComparer(function(a, b){ return a > b })\nexport var gte = createComparer(function(a, b){ return a >= b })\nexport var lt =  createComparer(function(a, b){ return a < b })\nexport var lte = createComparer(function(a, b){ return a <= b })\n\nexport function min(){\n  return new Date(Math.min.apply(Math, arguments))\n}\n\nexport function max(){\n  return new Date(Math.max.apply(Math, arguments))\n}\n\nexport function inRange(day, min, max, unit){\n  unit = unit || 'day'\n\n  return (!min || gte(day, min, unit))\n      && (!max || lte(day, max, unit))\n}\n\nexport var milliseconds = createAccessor('Milliseconds')\nexport var seconds =      createAccessor('Seconds')\nexport var minutes =      createAccessor('Minutes')\nexport var hours =        createAccessor('Hours')\nexport var day =          createAccessor('Day')\nexport var date =         createAccessor('Date')\nexport var month =        createAccessor('Month')\nexport var year =         createAccessor('FullYear')\n\nexport function decade(d, val) {\n  return val === undefined\n    ? year(startOf(d, DECADE))\n    : add(d, val + 10, YEAR);\n}\n\nexport function century(d, val) {\n  return val === undefined\n    ? year(startOf(d, CENTURY))\n    : add(d, val + 100, YEAR);\n}\n\nexport function weekday(d, val, firstDay) {\n    var w = (day(d) + 7 - (firstDay || 0) ) % 7;\n\n    return val === undefined\n      ? w\n      : add(d, val - w, DAY);\n}\n\nexport function diff(date1, date2, unit, asFloat) {\n  var dividend, divisor, result;\n\n  switch (unit) {\n    case MILI:\n    case SECONDS:\n    case MINUTES:\n    case HOURS:\n    case DAY:\n    case WEEK:\n      dividend = date2.getTime() - date1.getTime(); break;\n    case MONTH:\n    case YEAR:\n    case DECADE:\n    case CENTURY:\n      dividend = (year(date2) - year(date1)) * 12 + month(date2) - month(date1); break;\n    default:\n      throw new TypeError('Invalid units: \"' + unit + '\"');\n  }\n\n  switch (unit) {\n    case MILI:\n        divisor = 1; break;\n    case SECONDS:\n        divisor = 1000; break;\n    case MINUTES:\n        divisor = 1000 * 60; break;\n    case HOURS:\n        divisor = 1000 * 60 * 60; break;\n    case DAY:\n        divisor = 1000 * 60 * 60 * 24; break;\n    case WEEK:\n        divisor = 1000 * 60 * 60 * 24 * 7; break;\n    case MONTH:\n        divisor = 1; break;\n    case YEAR:\n        divisor = 12; break;\n    case DECADE:\n        divisor = 120; break;\n    case CENTURY:\n        divisor = 1200; break;\n    default:\n      throw new TypeError('Invalid units: \"' + unit + '\"');\n  }\n\n  result = dividend / divisor;\n\n  return asFloat ? result : Math.round(result);\n}\n\nfunction createAccessor(method){\n  var hourLength = (function(method) {  \n    switch(method) {\n      case 'Milliseconds':\n        return 3600000;\n      case 'Seconds':\n        return 3600;\n      case 'Minutes':\n        return 60;\n      case 'Hours':\n        return 1;\n      default:\n        return null;\n    }\n  })(method);\n  \n  return function(d, val){\n    if (val === undefined)\n      return d['get' + method]()\n\n    var dateOut = new Date(d)\n    dateOut['set' + method](val)\n    \n    if(hourLength && dateOut['get'+method]() != val && (method === 'Hours' || val >=hourLength && (dateOut.getHours()-d.getHours()<Math.floor(val/hourLength))) ){\n      //Skip DST hour, if it occurs\n      dateOut['set'+method](val+hourLength);\n    }\n    \n    return dateOut\n  }\n}\n\nfunction createComparer(operator) {\n  return function (a, b, unit) {\n    return operator(+startOf(a, unit), +startOf(b, unit))\n  };\n}\n"]},"metadata":{},"sourceType":"module"}