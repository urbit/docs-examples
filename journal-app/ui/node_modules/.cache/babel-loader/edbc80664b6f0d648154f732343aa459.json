{"ast":null,"code":"const _excluded = [\"id\", \"autoFocus\", \"bordered\", \"views\", \"tabIndex\", \"disabled\", \"readOnly\", \"className\", \"value\", \"defaultValue\", \"onChange\", \"currentDate\", \"defaultCurrentDate\", \"onCurrentDateChange\", \"min\", \"max\", \"view\", \"defaultView\", \"onViewChange\", \"onKeyDown\", \"onNavigate\", \"renderDay\", \"messages\", \"formats\"];\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport cn from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { useEffect, useRef } from 'react';\nimport { useUncontrolledProp } from 'uncontrollable';\nimport CalendarHeader from './CalendarHeader';\nimport Century from './Century';\nimport Decade from './Decade';\nimport { useLocalizer } from './Localization';\nimport Month from './Month';\nimport SlideTransitionGroup from './SlideTransitionGroup';\nimport Widget from './Widget';\nimport Year from './Year';\nimport dates from './dates';\nimport useAutoFocus from './useAutoFocus';\nimport useFocusManager from './useFocusManager';\nimport { notify, useInstanceId } from './WidgetHelpers';\n\nlet last = a => a[a.length - 1];\n\nconst CELL_CLASSNAME = 'rw-cell';\nconst FOCUSED_CELL_SELECTOR = `.${CELL_CLASSNAME}[tabindex]`;\nconst MIN = new Date(1900, 0, 1);\nconst MAX = new Date(2099, 11, 31);\nconst VIEW_OPTIONS = ['month', 'year', 'decade', 'century'];\nconst VIEW_UNIT = {\n  month: 'day',\n  year: 'month',\n  decade: 'year',\n  century: 'decade'\n};\nconst VIEW = {\n  month: Month,\n  year: Year,\n  decade: Decade,\n  century: Century\n};\nconst ARROWS_TO_DIRECTION = {\n  ArrowDown: 'DOWN',\n  ArrowUp: 'UP',\n  ArrowRight: 'RIGHT',\n  ArrowLeft: 'LEFT'\n};\nconst OPPOSITE_DIRECTION = {\n  LEFT: 'RIGHT',\n  RIGHT: 'LEFT'\n};\nconst MULTIPLIER = {\n  year: 1,\n  decade: 10,\n  century: 100\n};\n\nfunction inRangeValue(_value, min, max) {\n  let value = dateOrNull(_value);\n  if (value === null) return value;\n  return dates.max(dates.min(value, max), min);\n}\n\nconst propTypes = {\n  /**\n   * @example ['disabled', ['new Date()']]\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * @example ['readOnly', ['new Date()']]\n   */\n  readOnly: PropTypes.bool,\n\n  /**\n   * @example ['onChangePicker', [ ['new Date()'] ]]\n   */\n  onChange: PropTypes.func,\n\n  /**\n   * The selected Date.\n   *\n   * ```tsx live\n   * import { Calendar } from 'react-widgets';\n   *\n   * <Calendar value={new Date()} />\n   * ```\n   * @example false\n   */\n  value: PropTypes.instanceOf(Date),\n\n  /**\n   * The minimum date that the Calendar can navigate from.\n   *\n   * @example ['prop', ['min', 'new Date()']]\n   */\n  min: PropTypes.instanceOf(Date),\n\n  /**\n   * The maximum date that the Calendar can navigate to.\n   *\n   * @example ['prop', ['max', 'new Date()']]\n   */\n  max: PropTypes.instanceOf(Date),\n\n  /**\n   * Default current date at which the calendar opens. If none is provided, opens at today's date or the `value` date (if any).\n   */\n  currentDate: PropTypes.instanceOf(Date),\n\n  /**\n   * Change event Handler that is called when the currentDate is changed. The handler is called with the currentDate object.\n   */\n  onCurrentDateChange: PropTypes.func,\n\n  /** Specify the navigate into the past header icon */\n  navigatePrevIcon: PropTypes.node,\n\n  /** Specify the navigate into the future header icon */\n  navigateNextIcon: PropTypes.node,\n\n  /**\n   * Controls the currently displayed calendar view. Use `defaultView` to set a unique starting view.\n   *\n   * @type {(\"month\"|\"year\"|\"decade\"|\"century\")}\n   * @controllable onViewChange\n   */\n  view(props) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    // @ts-ignore\n    return PropTypes.oneOf(props.views || VIEW_OPTIONS)(props, ...args);\n  },\n\n  /**\n   * Defines a list of views the Calendar can traverse through, starting with the\n   * first in the list to the last.\n   *\n   * @type array<\"month\"|\"year\"|\"decade\"|\"century\">\n   */\n  views: PropTypes.arrayOf(PropTypes.oneOf(VIEW_OPTIONS)),\n\n  /**\n   * A callback fired when the `view` changes.\n   *\n   * @controllable view\n   */\n  onViewChange: PropTypes.func,\n\n  /**\n   * Callback fired when the Calendar navigates between views, or forward and backwards in time.\n   *\n   * @type function(date: ?Date, direction: string, view: string)\n   */\n  onNavigate: PropTypes.func,\n  culture: PropTypes.string,\n  autoFocus: PropTypes.bool,\n\n  /**\n   * Show or hide the Calendar footer.\n   *\n   * @example ['prop', ['footer', true]]\n   */\n  footer: PropTypes.bool,\n\n  /**\n   * Provide a custom component to render the days of the month. The Component is provided the following props\n   *\n   * - `date`: a `Date` object for the day of the month to render\n   * - `label`: a formatted `string` of the date to render. To adjust the format of the `label` string use the `dateFormat` prop, listed below.\n   */\n  renderDay: PropTypes.func,\n  formats: PropTypes.shape({\n    /**\n     * A formatter for the header button of the month view.\n     *\n     * @example ['dateFormat', ['headerFormat', \"{ date: 'medium' }\"]]\n     */\n    header: PropTypes.any,\n\n    /**\n     * A formatter for the Calendar footer, formats today's Date as a string.\n     *\n     * @example ['dateFormat', ['footerFormat', \"{ date: 'medium' }\", \"date => 'Today is: ' + formatter(date)\"]]\n     */\n    footer: PropTypes.any,\n\n    /**\n     * A formatter calendar days of the week, the default formats each day as a Narrow name: \"Mo\", \"Tu\", etc.\n     *\n     * @example ['prop', { day: \"day => \\n['ðŸŽ‰', 'M', 'T','W','Th', 'F', 'ðŸŽ‰'][day.getDay()]\" }]\n     */\n    day: PropTypes.any,\n\n    /**\n     * A formatter for day of the month\n     *\n     * @example ['prop', { date: \"dt => String(dt.getDate())\" }]\n     */\n    date: PropTypes.any,\n\n    /**\n     * A formatter for month name.\n     *\n     * @example ['dateFormat', ['monthFormat', \"{ raw: 'MMMM' }\", null, { defaultView: '\"year\"' }]]\n     */\n    month: PropTypes.any,\n\n    /**\n     * A formatter for month name.\n     *\n     * @example ['dateFormat', ['yearFormat', \"{ raw: 'yy' }\", null, { defaultView: '\"decade\"' }]]\n     */\n    year: PropTypes.any,\n\n    /**\n     * A formatter for decade, the default formats the first and last year of the decade like: 2000 - 2009.\n     */\n    decade: PropTypes.any,\n\n    /**\n     * A formatter for century, the default formats the first and last year of the century like: 1900 - 1999.\n     */\n    century: PropTypes.any\n  }),\n  messages: PropTypes.shape({\n    moveBack: PropTypes.string,\n    moveForward: PropTypes.string\n  }),\n  onKeyDown: PropTypes.func,\n\n  /** @ignore */\n  tabIndex: PropTypes.any\n};\n\nconst useViewState = function (views) {\n  let view = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : views[0];\n  let currentDate = arguments.length > 2 ? arguments[2] : undefined;\n  const lastView = useRef(view);\n  const lastDate = useRef(currentDate);\n  let slideDirection;\n\n  if (view !== lastView.current) {\n    slideDirection = views.indexOf(lastView.current) > views.indexOf(view) ? 'top' : 'bottom';\n  } else if (lastDate.current !== currentDate) {\n    slideDirection = dates.gt(currentDate, lastDate.current) ? 'left' : 'right';\n  }\n\n  useEffect(() => {\n    lastDate.current = currentDate;\n    lastView.current = view;\n  });\n  return slideDirection;\n};\n/**\n * @public\n */\n\n\nfunction Calendar(_ref) {\n  let {\n    id,\n    autoFocus,\n    bordered = true,\n    views = VIEW_OPTIONS,\n    tabIndex = 0,\n    disabled,\n    readOnly,\n    className,\n    value,\n    defaultValue,\n    onChange,\n    currentDate: pCurrentDate,\n    defaultCurrentDate,\n    onCurrentDateChange,\n    min = MIN,\n    max = MAX,\n    view,\n    defaultView = views[0],\n    onViewChange,\n    onKeyDown,\n    onNavigate,\n    renderDay,\n    messages,\n    formats\n  } = _ref,\n      elementProps = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  const [currentValue, handleChange] = useUncontrolledProp(value, defaultValue, onChange);\n  const [currentDate, handleCurrentDateChange] = useUncontrolledProp(pCurrentDate, defaultCurrentDate || currentValue || new Date(), onCurrentDateChange);\n  const [currentView, handleViewChange] = useUncontrolledProp(view, defaultView, onViewChange);\n  const localizer = useLocalizer(messages, formats);\n  const ref = useRef(null);\n  const viewId = useInstanceId(id, '_calendar');\n  const labelId = useInstanceId(id, '_calendar_label');\n  useAutoFocus(!!autoFocus, ref);\n  const slideDirection = useViewState(views, currentView, currentDate);\n  const [, focused] = useFocusManager(ref, {\n    disabled\n  }, {\n    willHandle() {\n      if (tabIndex == -1) return false;\n    }\n\n  });\n  const lastValue = useRef(currentValue);\n  useEffect(() => {\n    const inValue = inRangeValue(currentValue, min, max);\n    const last = lastValue.current;\n    lastValue.current = currentValue;\n    if (!dates.eq(inValue, dateOrNull(last), VIEW_UNIT[currentView])) maybeSetCurrentDate(inValue);\n  });\n  const isDisabled = disabled || readOnly;\n  /**\n   * Handlers\n   */\n\n  const handleViewChangeImpl = () => {\n    navigate('UP');\n  };\n\n  const handleMoveBack = () => {\n    navigate('LEFT');\n  };\n\n  const handleMoveForward = () => {\n    navigate('RIGHT');\n  };\n\n  const handleDateChange = date => {\n    if (views[0] === currentView) {\n      maybeSetCurrentDate(date);\n      notify(handleChange, [date]);\n      focus();\n      return;\n    }\n\n    navigate('DOWN', date);\n  };\n\n  const handleMoveToday = () => {\n    let date = new Date();\n    let firstView = views[0];\n    notify(onChange, [date]);\n\n    if (dates.inRange(date, min, max, firstView)) {\n      focus();\n      maybeSetCurrentDate(date);\n      notify(handleViewChange, [firstView]);\n    }\n  };\n\n  const handleKeyDown = e => {\n    let ctrl = e.ctrlKey || e.metaKey;\n    let key = e.key;\n    let direction = ARROWS_TO_DIRECTION[key];\n    let unit = VIEW_UNIT[currentView];\n\n    if (key === 'Enter') {\n      e.preventDefault();\n      return handleDateChange(currentDate);\n    }\n\n    if (direction) {\n      if (ctrl) {\n        e.preventDefault();\n        navigate(direction);\n      } else {\n        const isRTL = getComputedStyle(e.currentTarget).getPropertyValue('direction') === 'rtl';\n        if (isRTL && direction in OPPOSITE_DIRECTION) direction = OPPOSITE_DIRECTION[direction];\n        let nextDate = Calendar.move(currentDate, min, max, currentView, direction);\n\n        if (!dates.eq(currentDate, nextDate, unit)) {\n          e.preventDefault();\n          if (dates.gt(nextDate, currentDate, currentView)) navigate('RIGHT', nextDate);else if (dates.lt(nextDate, currentDate, currentView)) navigate('LEFT', nextDate);else maybeSetCurrentDate(nextDate);\n        }\n      }\n    }\n\n    notify(onKeyDown, [e]);\n  };\n\n  function navigate(direction, date) {\n    let nextView = currentView;\n    let slideDir = direction === 'LEFT' || direction === 'UP' ? 'right' : 'left';\n    if (direction === 'UP') nextView = views[views.indexOf(currentView) + 1] || nextView;\n    if (direction === 'DOWN') nextView = views[views.indexOf(currentView) - 1] || nextView;\n    if (!date) date = ['LEFT', 'RIGHT'].indexOf(direction) !== -1 ? nextDate(direction) : currentDate;\n\n    if (dates.inRange(date, min, max, nextView)) {\n      notify(onNavigate, [date, slideDir, nextView]); //this.focus()\n\n      maybeSetCurrentDate(date);\n      notify(handleViewChange, [nextView]);\n    }\n  }\n\n  const focus = () => {\n    var _ref$current;\n\n    const node = (_ref$current = ref.current) == null ? void 0 : _ref$current.querySelector(FOCUSED_CELL_SELECTOR);\n    node == null ? void 0 : node.focus();\n  };\n\n  const moveFocus = (node, hadFocus) => {\n    let current = document.activeElement;\n\n    if (hadFocus && (!current || !node.contains(current))) {\n      node.focus();\n    }\n  };\n\n  function maybeSetCurrentDate(date) {\n    let inRangeDate = inRangeValue(date ? new Date(date) : currentDate, min, max);\n    if (date === currentDate || dates.eq(inRangeDate, dateOrNull(currentDate), VIEW_UNIT[currentView])) return;\n    notify(handleCurrentDateChange, [inRangeDate]);\n  }\n\n  function nextDate(direction) {\n    let method = direction === 'LEFT' ? 'subtract' : 'add';\n    let unit = currentView === 'month' ? currentView : 'year';\n    let multi = MULTIPLIER[currentView] || 1;\n    return dates[method](currentDate, 1 * multi, unit);\n  }\n\n  function getHeaderLabel() {\n    switch (currentView) {\n      case 'month':\n        return localizer.formatDate(currentDate, 'header');\n\n      case 'year':\n        return localizer.formatDate(currentDate, 'year');\n\n      case 'decade':\n        return localizer.formatDate(dates.startOf(currentDate, 'decade'), 'decade');\n\n      case 'century':\n        return localizer.formatDate(dates.startOf(currentDate, 'century'), 'century');\n    }\n  }\n\n  let View = VIEW[currentView];\n  let todayNotInRange = !dates.inRange(new Date(), min, max, currentView);\n  let key = currentView + '_' + dates[currentView](currentDate); // let elementProps = Props.pickElementProps(this),\n  // let viewProps = pick(uncontrolledProps, View)\n\n  const prevDisabled = isDisabled || !dates.inRange(nextDate('LEFT'), min, max, currentView);\n  const nextDisabled = isDisabled || !dates.inRange(nextDate('RIGHT'), min, max, currentView);\n  return /*#__PURE__*/React.createElement(Widget, _extends({}, elementProps, {\n    role: \"group\",\n    ref: ref,\n    focused: focused,\n    disabled: disabled,\n    readOnly: readOnly,\n    tabIndex: tabIndex,\n    className: cn(className, 'rw-calendar', bordered && 'rw-calendar-contained')\n  }), /*#__PURE__*/React.createElement(CalendarHeader, {\n    label: getHeaderLabel(),\n    labelId: labelId,\n    localizer: localizer,\n    upDisabled: isDisabled || currentView === last(views),\n    prevDisabled: prevDisabled,\n    todayDisabled: isDisabled || todayNotInRange,\n    nextDisabled: nextDisabled,\n    onViewChange: handleViewChangeImpl,\n    onMoveLeft: handleMoveBack,\n    onMoveRight: handleMoveForward,\n    onMoveToday: handleMoveToday\n  }), /*#__PURE__*/React.createElement(Calendar.Transition, {\n    direction: slideDirection,\n    onTransitionEnd: moveFocus\n  }, /*#__PURE__*/React.createElement(View, {\n    key: key,\n    min: min,\n    max: max,\n    id: viewId,\n    value: currentValue,\n    localizer: localizer,\n    disabled: isDisabled,\n    focusedItem: currentDate,\n    onChange: handleDateChange,\n    onKeyDown: handleKeyDown,\n    \"aria-labelledby\": labelId,\n    renderDay: renderDay\n  })));\n}\n\nfunction dateOrNull(dt) {\n  if (dt && !isNaN(dt.getTime())) return dt;\n  return null;\n}\n\nCalendar.displayName = 'Calendar';\nCalendar.propTypes = propTypes; // Calendar.defaultProps = {\n//   min: new Date(1900, 0, 1),\n//   max: new Date(2099, 11, 31),\n//   views: VIEW_OPTIONS,\n//   tabIndex: '0',\n// }\n\nCalendar.Transition = SlideTransitionGroup;\n\nCalendar.move = (date, min, max, view, direction) => {\n  let isMonth = view === 'month';\n  let isUpOrDown = direction === 'UP' || direction === 'DOWN';\n  let rangeUnit = view && VIEW_UNIT[view];\n  let addUnit = isMonth && isUpOrDown ? 'week' : VIEW_UNIT[view];\n  let amount = isMonth || !isUpOrDown ? 1 : 4;\n  let newDate;\n  if (direction === 'UP' || direction === 'LEFT') amount *= -1;\n  newDate = dates.add(date, amount, addUnit);\n  return dates.inRange(newDate, min, max, rangeUnit) ? newDate : date;\n};\n\nexport default Calendar;","map":{"version":3,"sources":["/home/mike/proj/frontend/ui/node_modules/react-widgets/esm/Calendar.js"],"names":["_excluded","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","cn","PropTypes","React","useEffect","useRef","useUncontrolledProp","CalendarHeader","Century","Decade","useLocalizer","Month","SlideTransitionGroup","Widget","Year","dates","useAutoFocus","useFocusManager","notify","useInstanceId","last","a","CELL_CLASSNAME","FOCUSED_CELL_SELECTOR","MIN","Date","MAX","VIEW_OPTIONS","VIEW_UNIT","month","year","decade","century","VIEW","ARROWS_TO_DIRECTION","ArrowDown","ArrowUp","ArrowRight","ArrowLeft","OPPOSITE_DIRECTION","LEFT","RIGHT","MULTIPLIER","inRangeValue","_value","min","max","value","dateOrNull","propTypes","disabled","bool","readOnly","onChange","func","instanceOf","currentDate","onCurrentDateChange","navigatePrevIcon","node","navigateNextIcon","view","props","args","oneOf","views","arrayOf","onViewChange","onNavigate","culture","string","autoFocus","footer","renderDay","formats","shape","header","any","day","date","messages","moveBack","moveForward","onKeyDown","tabIndex","useViewState","lastView","lastDate","slideDirection","current","gt","Calendar","_ref","id","bordered","className","defaultValue","pCurrentDate","defaultCurrentDate","defaultView","elementProps","currentValue","handleChange","handleCurrentDateChange","currentView","handleViewChange","localizer","ref","viewId","labelId","focused","willHandle","lastValue","inValue","eq","maybeSetCurrentDate","isDisabled","handleViewChangeImpl","navigate","handleMoveBack","handleMoveForward","handleDateChange","focus","handleMoveToday","firstView","inRange","handleKeyDown","e","ctrl","ctrlKey","metaKey","direction","unit","preventDefault","isRTL","getComputedStyle","currentTarget","getPropertyValue","nextDate","move","lt","nextView","slideDir","_ref$current","querySelector","moveFocus","hadFocus","document","activeElement","contains","inRangeDate","method","multi","getHeaderLabel","formatDate","startOf","View","todayNotInRange","prevDisabled","nextDisabled","createElement","role","label","upDisabled","todayDisabled","onMoveLeft","onMoveRight","onMoveToday","Transition","onTransitionEnd","focusedItem","dt","isNaN","getTime","displayName","isMonth","isUpOrDown","rangeUnit","addUnit","amount","newDate","add"],"mappings":"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","sourcesContent":["const _excluded = [\"id\", \"autoFocus\", \"bordered\", \"views\", \"tabIndex\", \"disabled\", \"readOnly\", \"className\", \"value\", \"defaultValue\", \"onChange\", \"currentDate\", \"defaultCurrentDate\", \"onCurrentDateChange\", \"min\", \"max\", \"view\", \"defaultView\", \"onViewChange\", \"onKeyDown\", \"onNavigate\", \"renderDay\", \"messages\", \"formats\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport cn from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { useEffect, useRef } from 'react';\nimport { useUncontrolledProp } from 'uncontrollable';\nimport CalendarHeader from './CalendarHeader';\nimport Century from './Century';\nimport Decade from './Decade';\nimport { useLocalizer } from './Localization';\nimport Month from './Month';\nimport SlideTransitionGroup from './SlideTransitionGroup';\nimport Widget from './Widget';\nimport Year from './Year';\nimport dates from './dates';\nimport useAutoFocus from './useAutoFocus';\nimport useFocusManager from './useFocusManager';\nimport { notify, useInstanceId } from './WidgetHelpers';\n\nlet last = a => a[a.length - 1];\n\nconst CELL_CLASSNAME = 'rw-cell';\nconst FOCUSED_CELL_SELECTOR = `.${CELL_CLASSNAME}[tabindex]`;\nconst MIN = new Date(1900, 0, 1);\nconst MAX = new Date(2099, 11, 31);\nconst VIEW_OPTIONS = ['month', 'year', 'decade', 'century'];\nconst VIEW_UNIT = {\n  month: 'day',\n  year: 'month',\n  decade: 'year',\n  century: 'decade'\n};\nconst VIEW = {\n  month: Month,\n  year: Year,\n  decade: Decade,\n  century: Century\n};\nconst ARROWS_TO_DIRECTION = {\n  ArrowDown: 'DOWN',\n  ArrowUp: 'UP',\n  ArrowRight: 'RIGHT',\n  ArrowLeft: 'LEFT'\n};\nconst OPPOSITE_DIRECTION = {\n  LEFT: 'RIGHT',\n  RIGHT: 'LEFT'\n};\nconst MULTIPLIER = {\n  year: 1,\n  decade: 10,\n  century: 100\n};\n\nfunction inRangeValue(_value, min, max) {\n  let value = dateOrNull(_value);\n  if (value === null) return value;\n  return dates.max(dates.min(value, max), min);\n}\n\nconst propTypes = {\n  /**\n   * @example ['disabled', ['new Date()']]\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * @example ['readOnly', ['new Date()']]\n   */\n  readOnly: PropTypes.bool,\n\n  /**\n   * @example ['onChangePicker', [ ['new Date()'] ]]\n   */\n  onChange: PropTypes.func,\n\n  /**\n   * The selected Date.\n   *\n   * ```tsx live\n   * import { Calendar } from 'react-widgets';\n   *\n   * <Calendar value={new Date()} />\n   * ```\n   * @example false\n   */\n  value: PropTypes.instanceOf(Date),\n\n  /**\n   * The minimum date that the Calendar can navigate from.\n   *\n   * @example ['prop', ['min', 'new Date()']]\n   */\n  min: PropTypes.instanceOf(Date),\n\n  /**\n   * The maximum date that the Calendar can navigate to.\n   *\n   * @example ['prop', ['max', 'new Date()']]\n   */\n  max: PropTypes.instanceOf(Date),\n\n  /**\n   * Default current date at which the calendar opens. If none is provided, opens at today's date or the `value` date (if any).\n   */\n  currentDate: PropTypes.instanceOf(Date),\n\n  /**\n   * Change event Handler that is called when the currentDate is changed. The handler is called with the currentDate object.\n   */\n  onCurrentDateChange: PropTypes.func,\n\n  /** Specify the navigate into the past header icon */\n  navigatePrevIcon: PropTypes.node,\n\n  /** Specify the navigate into the future header icon */\n  navigateNextIcon: PropTypes.node,\n\n  /**\n   * Controls the currently displayed calendar view. Use `defaultView` to set a unique starting view.\n   *\n   * @type {(\"month\"|\"year\"|\"decade\"|\"century\")}\n   * @controllable onViewChange\n   */\n  view(props, ...args) {\n    // @ts-ignore\n    return PropTypes.oneOf(props.views || VIEW_OPTIONS)(props, ...args);\n  },\n\n  /**\n   * Defines a list of views the Calendar can traverse through, starting with the\n   * first in the list to the last.\n   *\n   * @type array<\"month\"|\"year\"|\"decade\"|\"century\">\n   */\n  views: PropTypes.arrayOf(PropTypes.oneOf(VIEW_OPTIONS)),\n\n  /**\n   * A callback fired when the `view` changes.\n   *\n   * @controllable view\n   */\n  onViewChange: PropTypes.func,\n\n  /**\n   * Callback fired when the Calendar navigates between views, or forward and backwards in time.\n   *\n   * @type function(date: ?Date, direction: string, view: string)\n   */\n  onNavigate: PropTypes.func,\n  culture: PropTypes.string,\n  autoFocus: PropTypes.bool,\n\n  /**\n   * Show or hide the Calendar footer.\n   *\n   * @example ['prop', ['footer', true]]\n   */\n  footer: PropTypes.bool,\n\n  /**\n   * Provide a custom component to render the days of the month. The Component is provided the following props\n   *\n   * - `date`: a `Date` object for the day of the month to render\n   * - `label`: a formatted `string` of the date to render. To adjust the format of the `label` string use the `dateFormat` prop, listed below.\n   */\n  renderDay: PropTypes.func,\n  formats: PropTypes.shape({\n    /**\n     * A formatter for the header button of the month view.\n     *\n     * @example ['dateFormat', ['headerFormat', \"{ date: 'medium' }\"]]\n     */\n    header: PropTypes.any,\n\n    /**\n     * A formatter for the Calendar footer, formats today's Date as a string.\n     *\n     * @example ['dateFormat', ['footerFormat', \"{ date: 'medium' }\", \"date => 'Today is: ' + formatter(date)\"]]\n     */\n    footer: PropTypes.any,\n\n    /**\n     * A formatter calendar days of the week, the default formats each day as a Narrow name: \"Mo\", \"Tu\", etc.\n     *\n     * @example ['prop', { day: \"day => \\n['ðŸŽ‰', 'M', 'T','W','Th', 'F', 'ðŸŽ‰'][day.getDay()]\" }]\n     */\n    day: PropTypes.any,\n\n    /**\n     * A formatter for day of the month\n     *\n     * @example ['prop', { date: \"dt => String(dt.getDate())\" }]\n     */\n    date: PropTypes.any,\n\n    /**\n     * A formatter for month name.\n     *\n     * @example ['dateFormat', ['monthFormat', \"{ raw: 'MMMM' }\", null, { defaultView: '\"year\"' }]]\n     */\n    month: PropTypes.any,\n\n    /**\n     * A formatter for month name.\n     *\n     * @example ['dateFormat', ['yearFormat', \"{ raw: 'yy' }\", null, { defaultView: '\"decade\"' }]]\n     */\n    year: PropTypes.any,\n\n    /**\n     * A formatter for decade, the default formats the first and last year of the decade like: 2000 - 2009.\n     */\n    decade: PropTypes.any,\n\n    /**\n     * A formatter for century, the default formats the first and last year of the century like: 1900 - 1999.\n     */\n    century: PropTypes.any\n  }),\n  messages: PropTypes.shape({\n    moveBack: PropTypes.string,\n    moveForward: PropTypes.string\n  }),\n  onKeyDown: PropTypes.func,\n\n  /** @ignore */\n  tabIndex: PropTypes.any\n};\n\nconst useViewState = (views, view = views[0], currentDate) => {\n  const lastView = useRef(view);\n  const lastDate = useRef(currentDate);\n  let slideDirection;\n\n  if (view !== lastView.current) {\n    slideDirection = views.indexOf(lastView.current) > views.indexOf(view) ? 'top' : 'bottom';\n  } else if (lastDate.current !== currentDate) {\n    slideDirection = dates.gt(currentDate, lastDate.current) ? 'left' : 'right';\n  }\n\n  useEffect(() => {\n    lastDate.current = currentDate;\n    lastView.current = view;\n  });\n  return slideDirection;\n};\n\n/**\n * @public\n */\nfunction Calendar(_ref) {\n  let {\n    id,\n    autoFocus,\n    bordered = true,\n    views = VIEW_OPTIONS,\n    tabIndex = 0,\n    disabled,\n    readOnly,\n    className,\n    value,\n    defaultValue,\n    onChange,\n    currentDate: pCurrentDate,\n    defaultCurrentDate,\n    onCurrentDateChange,\n    min = MIN,\n    max = MAX,\n    view,\n    defaultView = views[0],\n    onViewChange,\n    onKeyDown,\n    onNavigate,\n    renderDay,\n    messages,\n    formats\n  } = _ref,\n      elementProps = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  const [currentValue, handleChange] = useUncontrolledProp(value, defaultValue, onChange);\n  const [currentDate, handleCurrentDateChange] = useUncontrolledProp(pCurrentDate, defaultCurrentDate || currentValue || new Date(), onCurrentDateChange);\n  const [currentView, handleViewChange] = useUncontrolledProp(view, defaultView, onViewChange);\n  const localizer = useLocalizer(messages, formats);\n  const ref = useRef(null);\n  const viewId = useInstanceId(id, '_calendar');\n  const labelId = useInstanceId(id, '_calendar_label');\n  useAutoFocus(!!autoFocus, ref);\n  const slideDirection = useViewState(views, currentView, currentDate);\n  const [, focused] = useFocusManager(ref, {\n    disabled\n  }, {\n    willHandle() {\n      if (tabIndex == -1) return false;\n    }\n\n  });\n  const lastValue = useRef(currentValue);\n  useEffect(() => {\n    const inValue = inRangeValue(currentValue, min, max);\n    const last = lastValue.current;\n    lastValue.current = currentValue;\n    if (!dates.eq(inValue, dateOrNull(last), VIEW_UNIT[currentView])) maybeSetCurrentDate(inValue);\n  });\n  const isDisabled = disabled || readOnly;\n  /**\n   * Handlers\n   */\n\n  const handleViewChangeImpl = () => {\n    navigate('UP');\n  };\n\n  const handleMoveBack = () => {\n    navigate('LEFT');\n  };\n\n  const handleMoveForward = () => {\n    navigate('RIGHT');\n  };\n\n  const handleDateChange = date => {\n    if (views[0] === currentView) {\n      maybeSetCurrentDate(date);\n      notify(handleChange, [date]);\n      focus();\n      return;\n    }\n\n    navigate('DOWN', date);\n  };\n\n  const handleMoveToday = () => {\n    let date = new Date();\n    let firstView = views[0];\n    notify(onChange, [date]);\n\n    if (dates.inRange(date, min, max, firstView)) {\n      focus();\n      maybeSetCurrentDate(date);\n      notify(handleViewChange, [firstView]);\n    }\n  };\n\n  const handleKeyDown = e => {\n    let ctrl = e.ctrlKey || e.metaKey;\n    let key = e.key;\n    let direction = ARROWS_TO_DIRECTION[key];\n    let unit = VIEW_UNIT[currentView];\n\n    if (key === 'Enter') {\n      e.preventDefault();\n      return handleDateChange(currentDate);\n    }\n\n    if (direction) {\n      if (ctrl) {\n        e.preventDefault();\n        navigate(direction);\n      } else {\n        const isRTL = getComputedStyle(e.currentTarget).getPropertyValue('direction') === 'rtl';\n        if (isRTL && direction in OPPOSITE_DIRECTION) direction = OPPOSITE_DIRECTION[direction];\n        let nextDate = Calendar.move(currentDate, min, max, currentView, direction);\n\n        if (!dates.eq(currentDate, nextDate, unit)) {\n          e.preventDefault();\n          if (dates.gt(nextDate, currentDate, currentView)) navigate('RIGHT', nextDate);else if (dates.lt(nextDate, currentDate, currentView)) navigate('LEFT', nextDate);else maybeSetCurrentDate(nextDate);\n        }\n      }\n    }\n\n    notify(onKeyDown, [e]);\n  };\n\n  function navigate(direction, date) {\n    let nextView = currentView;\n    let slideDir = direction === 'LEFT' || direction === 'UP' ? 'right' : 'left';\n    if (direction === 'UP') nextView = views[views.indexOf(currentView) + 1] || nextView;\n    if (direction === 'DOWN') nextView = views[views.indexOf(currentView) - 1] || nextView;\n    if (!date) date = ['LEFT', 'RIGHT'].indexOf(direction) !== -1 ? nextDate(direction) : currentDate;\n\n    if (dates.inRange(date, min, max, nextView)) {\n      notify(onNavigate, [date, slideDir, nextView]); //this.focus()\n\n      maybeSetCurrentDate(date);\n      notify(handleViewChange, [nextView]);\n    }\n  }\n\n  const focus = () => {\n    var _ref$current;\n\n    const node = (_ref$current = ref.current) == null ? void 0 : _ref$current.querySelector(FOCUSED_CELL_SELECTOR);\n    node == null ? void 0 : node.focus();\n  };\n\n  const moveFocus = (node, hadFocus) => {\n    let current = document.activeElement;\n\n    if (hadFocus && (!current || !node.contains(current))) {\n      node.focus();\n    }\n  };\n\n  function maybeSetCurrentDate(date) {\n    let inRangeDate = inRangeValue(date ? new Date(date) : currentDate, min, max);\n    if (date === currentDate || dates.eq(inRangeDate, dateOrNull(currentDate), VIEW_UNIT[currentView])) return;\n    notify(handleCurrentDateChange, [inRangeDate]);\n  }\n\n  function nextDate(direction) {\n    let method = direction === 'LEFT' ? 'subtract' : 'add';\n    let unit = currentView === 'month' ? currentView : 'year';\n    let multi = MULTIPLIER[currentView] || 1;\n    return dates[method](currentDate, 1 * multi, unit);\n  }\n\n  function getHeaderLabel() {\n    switch (currentView) {\n      case 'month':\n        return localizer.formatDate(currentDate, 'header');\n\n      case 'year':\n        return localizer.formatDate(currentDate, 'year');\n\n      case 'decade':\n        return localizer.formatDate(dates.startOf(currentDate, 'decade'), 'decade');\n\n      case 'century':\n        return localizer.formatDate(dates.startOf(currentDate, 'century'), 'century');\n    }\n  }\n\n  let View = VIEW[currentView];\n  let todayNotInRange = !dates.inRange(new Date(), min, max, currentView);\n  let key = currentView + '_' + dates[currentView](currentDate); // let elementProps = Props.pickElementProps(this),\n  // let viewProps = pick(uncontrolledProps, View)\n\n  const prevDisabled = isDisabled || !dates.inRange(nextDate('LEFT'), min, max, currentView);\n  const nextDisabled = isDisabled || !dates.inRange(nextDate('RIGHT'), min, max, currentView);\n  return /*#__PURE__*/React.createElement(Widget, _extends({}, elementProps, {\n    role: \"group\",\n    ref: ref,\n    focused: focused,\n    disabled: disabled,\n    readOnly: readOnly,\n    tabIndex: tabIndex,\n    className: cn(className, 'rw-calendar', bordered && 'rw-calendar-contained')\n  }), /*#__PURE__*/React.createElement(CalendarHeader, {\n    label: getHeaderLabel(),\n    labelId: labelId,\n    localizer: localizer,\n    upDisabled: isDisabled || currentView === last(views),\n    prevDisabled: prevDisabled,\n    todayDisabled: isDisabled || todayNotInRange,\n    nextDisabled: nextDisabled,\n    onViewChange: handleViewChangeImpl,\n    onMoveLeft: handleMoveBack,\n    onMoveRight: handleMoveForward,\n    onMoveToday: handleMoveToday\n  }), /*#__PURE__*/React.createElement(Calendar.Transition, {\n    direction: slideDirection,\n    onTransitionEnd: moveFocus\n  }, /*#__PURE__*/React.createElement(View, {\n    key: key,\n    min: min,\n    max: max,\n    id: viewId,\n    value: currentValue,\n    localizer: localizer,\n    disabled: isDisabled,\n    focusedItem: currentDate,\n    onChange: handleDateChange,\n    onKeyDown: handleKeyDown,\n    \"aria-labelledby\": labelId,\n    renderDay: renderDay\n  })));\n}\n\nfunction dateOrNull(dt) {\n  if (dt && !isNaN(dt.getTime())) return dt;\n  return null;\n}\n\nCalendar.displayName = 'Calendar';\nCalendar.propTypes = propTypes; // Calendar.defaultProps = {\n//   min: new Date(1900, 0, 1),\n//   max: new Date(2099, 11, 31),\n//   views: VIEW_OPTIONS,\n//   tabIndex: '0',\n// }\n\nCalendar.Transition = SlideTransitionGroup;\n\nCalendar.move = (date, min, max, view, direction) => {\n  let isMonth = view === 'month';\n  let isUpOrDown = direction === 'UP' || direction === 'DOWN';\n  let rangeUnit = view && VIEW_UNIT[view];\n  let addUnit = isMonth && isUpOrDown ? 'week' : VIEW_UNIT[view];\n  let amount = isMonth || !isUpOrDown ? 1 : 4;\n  let newDate;\n  if (direction === 'UP' || direction === 'LEFT') amount *= -1;\n  newDate = dates.add(date, amount, addUnit);\n  return dates.inRange(newDate, min, max, rangeUnit) ? newDate : date;\n};\n\nexport default Calendar;"]},"metadata":{},"sourceType":"module"}